---
import { t, ids, type Lang } from '../i18n/translations';

interface Props { lang?: Lang; }
const { lang = 'es' } = Astro.props;

const base = import.meta.env.BASE_URL.replace(/\/?$/, '/');
const i = t(lang);
const id = ids(lang);
---

<section class="hero" id="inicio">
  <!-- Background -->
  <div class="hero-bg">
    <img src={`${base}images/fondo.jpg`} alt="" class="hero-bg-img" />
    <div class="hero-overlay"></div>
    <div class="hero-grid-pattern"></div>
  </div>

  <!-- Floating elements -->
  <div class="floating-elements" aria-hidden="true">
    <div class="float-orb float-orb-1"></div>
    <div class="float-orb float-orb-2"></div>
    <div class="float-orb float-orb-3"></div>
    <div class="code-float code-float-1">
      <code>&lt;Security /&gt;</code>
    </div>
    <div class="code-float code-float-2">
      <code>fn architect()</code>
    </div>
    <div class="code-float code-float-3">
      <code>// PhD ✓</code>
    </div>
  </div>

  <div class="container hero-content">
    <div class="hero-badge reveal">
      <span class="badge-dot"></span>
      <span>{i.hero.badge}</span>
    </div>

    <h1 class="hero-name reveal reveal-delay-1">
      Antonio Payá<br />
      <span class="gradient-text">González</span>
    </h1>

    <p class="hero-role reveal reveal-delay-2">
      <span class="role-line"></span>
      {i.hero.role}
    </p>

    <p class="hero-intro reveal reveal-delay-3" set:html={i.hero.intro} />

    <div class="hero-ctas reveal reveal-delay-4">
      <a href={`#${id.contact}`} class="btn-glow">
        <span>{i.hero.ctaPrimary}</span>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="m5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
      </a>
      <a href={`#${id.publications}`} class="btn-glass">
        <span>{i.hero.ctaSecondary}</span>
      </a>
    </div>

    <div class="hero-links reveal reveal-delay-5">
      <a href="https://github.com/antoniopaya22" target="_blank" rel="noopener" aria-label="GitHub" class="social-link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
      </a>
      <a href="https://www.linkedin.com/in/antoniopaya22/" target="_blank" rel="noopener" aria-label="LinkedIn" class="social-link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
      </a>
      <a href="https://scholar.google.es/citations?user=4bCBOysAAAAJ&hl=es" target="_blank" rel="noopener" aria-label="Google Scholar" class="social-link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M5.242 13.769L0 9.5 12 0l12 9.5-5.242 4.269C17.548 11.249 14.978 9.5 12 9.5c-2.977 0-5.548 1.748-6.758 4.269zM12 10a7 7 0 1 0 0 14 7 7 0 0 0 0-14z"/></svg>
      </a>
      <a href="https://orcid.org/0000-0003-3733-3805" target="_blank" rel="noopener" aria-label="ORCID" class="social-link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zM7.369 4.378c.525 0 .947.431.947.947s-.422.947-.947.947a.95.95 0 0 1-.947-.947c0-.525.422-.947.947-.947zm-.722 3.038h1.444v10.041H6.647V7.416zm3.562 0h3.9c3.712 0 5.344 2.653 5.344 5.025 0 2.578-2.016 5.025-5.325 5.025h-3.919V7.416zm1.444 1.303v7.444h2.297c3.272 0 4.022-2.484 4.022-3.722 0-1.847-1.247-3.722-3.897-3.722h-2.422z"/></svg>
      </a>
      <a href="mailto:antoniopaya@outlook.com" aria-label="Email" class="social-link">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
      </a>
    </div>

    <div class="scroll-indicator reveal reveal-delay-5">
      <div class="scroll-mouse">
        <div class="scroll-wheel"></div>
      </div>
      <span>{i.hero.scroll}</span>
    </div>
  </div>
</section>

<style>
  .hero {
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: center;
    overflow: hidden;
    padding-top: 4rem;
  }

  .hero-bg { position: absolute; inset: 0; z-index: 0; }

  .hero-bg-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    filter: brightness(0.3) saturate(0.6);
  }

  .hero-overlay {
    position: absolute;
    inset: 0;
    background:
      linear-gradient(180deg,
        rgba(6, 6, 10, 0.4) 0%,
        rgba(6, 6, 10, 0.6) 40%,
        rgba(6, 6, 10, 0.85) 70%,
        rgba(6, 6, 10, 1) 100%
      );
  }

  .hero-grid-pattern {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(129, 140, 248, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(129, 140, 248, 0.03) 1px, transparent 1px);
    background-size: 60px 60px;
    mask-image: linear-gradient(180deg, transparent, black 30%, black 70%, transparent);
  }

  .floating-elements { position: absolute; inset: 0; z-index: 1; overflow: hidden; }

  .float-orb { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.15; }
  .float-orb-1 { width: 400px; height: 400px; background: var(--accent-2); top: 10%; right: -5%; animation: float 8s ease-in-out infinite; }
  .float-orb-2 { width: 300px; height: 300px; background: var(--cyan); bottom: 20%; left: -5%; animation: float 10s ease-in-out infinite reverse; }
  .float-orb-3 { width: 200px; height: 200px; background: var(--violet); top: 50%; right: 30%; animation: float 12s ease-in-out infinite 2s; }

  .code-float {
    position: absolute;
    font-family: var(--mono);
    font-size: 0.8rem;
    color: var(--accent);
    background: rgba(129, 140, 248, 0.06);
    border: 1px solid rgba(129, 140, 248, 0.12);
    padding: 0.5rem 1rem;
    border-radius: var(--r-sm);
    backdrop-filter: blur(8px);
    opacity: 0.6;
    pointer-events: none;
  }

  .code-float-1 { top: 25%; right: 8%; animation: float 7s ease-in-out infinite; }
  .code-float-2 { bottom: 30%; right: 15%; animation: float 9s ease-in-out infinite 1s; }
  .code-float-3 { top: 40%; left: 5%; animation: float 11s ease-in-out infinite 3s; }

  .hero-content { position: relative; z-index: 2; padding: 4rem 1.5rem; }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 1rem;
    background: rgba(52, 211, 153, 0.08);
    border: 1px solid rgba(52, 211, 153, 0.2);
    border-radius: var(--r-full);
    font-size: 0.8rem;
    color: var(--emerald);
    font-weight: 500;
    margin-bottom: 2rem;
  }

  .badge-dot {
    width: 8px;
    height: 8px;
    background: var(--emerald);
    border-radius: 50%;
    animation: pulse-glow 2s ease-in-out infinite;
    box-shadow: 0 0 8px rgba(52, 211, 153, 0.5);
  }

  .hero-name {
    font-size: clamp(3rem, 7vw, 5rem);
    font-weight: 900;
    line-height: 1.05;
    color: var(--text);
    margin-bottom: 1.5rem;
    letter-spacing: -0.04em;
  }

  .hero-role {
    display: flex;
    align-items: center;
    gap: 1rem;
    font-size: 1.1rem;
    color: var(--text-3);
    font-weight: 500;
    margin-bottom: 1.5rem;
    font-family: var(--mono);
  }

  .role-line {
    display: block;
    width: 40px;
    height: 2px;
    background: var(--gradient);
    border-radius: 2px;
  }

  .hero-intro {
    font-size: 1.1rem;
    color: var(--text-2);
    line-height: 1.8;
    max-width: 560px;
    margin-bottom: 2.5rem;
  }

  :global(.hero-intro strong) { color: var(--text); font-weight: 600; }

  .hero-ctas { display: flex; gap: 1rem; margin-bottom: 2.5rem; }

  .btn-glow {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.8rem 1.8rem;
    background: var(--gradient);
    color: #fff;
    font-size: 0.9rem;
    font-weight: 600;
    border-radius: var(--r-full);
    transition: all 0.3s var(--ease);
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
  }

  .btn-glow:hover {
    color: #fff;
    transform: translateY(-2px);
    box-shadow: 0 0 40px rgba(99, 102, 241, 0.5);
  }

  .btn-glow svg { transition: transform 0.3s var(--ease); }
  .btn-glow:hover svg { transform: translateX(3px); }

  .btn-glass {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.8rem 1.8rem;
    background: var(--bg-card);
    border: 1px solid var(--border-2);
    color: var(--text-2);
    font-size: 0.9rem;
    font-weight: 600;
    border-radius: var(--r-full);
    backdrop-filter: blur(12px);
    transition: all 0.3s var(--ease);
  }

  .btn-glass:hover {
    color: var(--text);
    border-color: var(--border-accent);
    background: var(--bg-card-hover);
    transform: translateY(-2px);
  }

  .hero-links { display: flex; gap: 0.5rem; margin-bottom: 3rem; }

  .social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: var(--r-md);
    color: var(--text-4);
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--border);
    transition: all 0.3s var(--ease);
  }

  .social-link:hover {
    color: var(--accent);
    border-color: var(--border-accent);
    background: rgba(129, 140, 248, 0.08);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(129, 140, 248, 0.15);
  }

  .scroll-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    opacity: 0.5;
    animation: float 3s ease-in-out infinite;
  }

  .scroll-indicator span {
    font-size: 0.7rem;
    font-family: var(--mono);
    text-transform: uppercase;
    letter-spacing: 2px;
    color: var(--text-4);
  }

  .scroll-mouse {
    width: 20px;
    height: 32px;
    border: 2px solid var(--text-4);
    border-radius: 12px;
    display: flex;
    justify-content: center;
    padding-top: 6px;
  }

  .scroll-wheel {
    width: 3px;
    height: 6px;
    background: var(--accent);
    border-radius: 3px;
    animation: scroll-anim 2s ease-in-out infinite;
  }

  @keyframes scroll-anim {
    0%, 100% { opacity: 1; transform: translateY(0); }
    50% { opacity: 0.3; transform: translateY(6px); }
  }

  @media (max-width: 768px) {
    .hero-ctas { flex-direction: column; }
    .code-float { display: none; }
  }
</style>
